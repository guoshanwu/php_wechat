(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d48a4e88"],{"2f2c":function(e,a,t){"use strict";t.r(a);var i,n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-cell-group",[t("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号"},model:{value:e.mobile,callback:function(a){e.mobile=a},expression:"mobile"}}),t("van-field",{attrs:{label:"留言",type:"textarea",placeholder:"请输入留言",rows:"3",autosize:""},model:{value:e.remark,callback:function(a){e.remark=a},expression:"remark"}})],1),t("van-divider",{style:{color:"#7d7d7d",borderColor:"#ddd",padding:"0 10px",margin:"5px 0"}},[e._v("宝贝萌图")]),t("van-uploader",{attrs:{multiple:"","max-count":8,"after-read":e.afterRead},on:{delete:e.deleteImg},model:{value:e.fileList,callback:function(a){e.fileList=a},expression:"fileList"}}),t("van-divider",{style:{color:"#7d7d7d",borderColor:"#ddd",padding:"0 10px",margin:"5px 0"}},[e._v("最多上传8张图片")]),t("van-button",{style:{display:"block",margin:"0 auto",width:"80%"},attrs:{type:"primary",size:"large",round:""},on:{click:e.submit}},[e._v("提交")]),t("lg-footer",{attrs:{index:2}})],1)},l=[],s=(t("cb54"),t("7381")),r=t("a506"),o=(t("5a9c"),t("5143")),d=(t("5e0f"),t("bca4")),c=(t("018c"),t("c012"),t("ef84"),t("f516"),t("95f3"),t("eb32"),t("c378"),t("2794")),f=(t("9f72"),t("3607")),u=(t("7364"),t("15b4")),m=t("3191"),b={components:(i={},Object(r["a"])(i,u["a"].name,u["a"]),Object(r["a"])(i,f["a"].name,f["a"]),Object(r["a"])(i,c["a"].name,c["a"]),Object(r["a"])(i,d["a"].name,d["a"]),Object(r["a"])(i,o["a"].name,o["a"]),i),data:function(){return{fileList:[],name:"",mobile:"",remark:"",imagesIds:[]}},methods:{afterRead:function(){for(var e=this,a=function(a){var t=new FormData;t.append("file",e.fileList[a].file),e.fileList[a].hasOwnProperty("id")||Object(m["e"])(t).then(function(t){1===t.code?(e.fileList[a].id=t.data.id,e.imagesIds=e.imagesIds.concat(t.data.id),s["a"].success("上传成功")):s["a"].fail(t.msg)})},t=0;t<this.fileList.length;t++)a(t)},deleteImg:function(e){this.imagesIds.remove(e.id),s["a"].success("删除成功")},submit:function(){var e=this;if(""!==this.name)if(""!==this.mobile){var a=/^[1][3,4,5,7,8][0-9]{9}$/;if(a.test(this.mobile))if(0!==this.imagesIds.length){var t={name:this.name,mobile:this.mobile,remark:this.remark,images_ids:this.imagesIds};this.fileList.length!==this.imagesIds.length&&s["a"].fail("图片正在上传中"),Object(m["d"])(t).then(function(a){1===a.code?(s["a"].success("活动参加成功"),e.$router.push("/")):s["a"].fail(a.msg)})}else s["a"].fail("宝贝萌图最少上传一张");else s["a"].fail("手机号格式有误")}else s["a"].fail("手机号不能为空");else s["a"].fail("用户名不能为空")}}};Array.prototype.remove=function(e){var a=this.indexOf(e);a>-1&&this.splice(a,1)};var p=b,h=(t("37e7"),t("6691")),v=Object(h["a"])(p,n,l,!1,null,null,null);a["default"]=v.exports},"37e7":function(e,a,t){"use strict";var i=t("fabd"),n=t.n(i);n.a},"5e0f":function(e,a,t){"use strict";t("018c"),t("9b77")},"9b77":function(e,a,t){},bca4:function(e,a,t){"use strict";var i=t("23c4"),n=t.n(i),l=t("0afd"),s=t("4f29"),r=Object(l["a"])("divider"),o=r[0],d=r[1];function c(e,a,t,i){var l;return e("div",n()([{attrs:{role:"separator"},style:{borderColor:a.borderColor},class:d((l={dashed:a.dashed,hairline:a.hairline},l["content-"+a.contentPosition]=t.default,l))},Object(s["b"])(i,!0)]),[t.default&&t.default()])}c.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}},a["a"]=o(c)},fabd:function(e,a,t){}}]);